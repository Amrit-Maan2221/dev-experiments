# Query Params (Deep but Simple)

## 1Ô∏è‚É£ What Are Query Params?

Query params are **optional key‚Äìvalue pairs** in the URL.

Example:

```
/catalog?sort=asc&page=2
```

Here:

* `sort=asc`
* `page=2`

They **do not change the route**
They **modify how the page behaves**

---

## 2Ô∏è‚É£ Route Params vs Query Params (Mental Rule)

> **Route params identify the page**
> **Query params customize the page**

### Correct usage:

```
/catalog/42        ‚Üí which item?
/catalog?sort=asc ‚Üí how to show items?
```

---

## 3Ô∏è‚É£ Query Params Are Not Defined in Routes

‚ö†Ô∏è Important difference:

Route params:

```jsx
<Route path="/catalog/:id" />
```

Query params:

```jsx
<Route path="/catalog" />
```

No extra route needed.

React Router automatically allows query params.

---

## 4Ô∏è‚É£ React Router API: `useSearchParams`

This hook:

* Reads query params
* Updates query params
* Syncs with browser URL

### Syntax:

```js
const [searchParams, setSearchParams] = useSearchParams();
```

---

## 5Ô∏è‚É£ Reading Query Params

Example URL:

```
/catalog?sort=asc
```

```js
const sort = searchParams.get("sort");
```

If param doesn‚Äôt exist ‚Üí `null`

---

## 6Ô∏è‚É£ Updating Query Params

```js
setSearchParams({ sort: "desc" });
```

URL becomes:

```
/catalog?sort=desc
```

SPA navigation, no reload.

---

## 7Ô∏è‚É£ Apply to Our Catalog Page

### `pages/Catalog.jsx`

```jsx
import { Link, useSearchParams } from "react-router-dom";

function Catalog() {
  const items = [1, 2, 3, 4];
  const [searchParams, setSearchParams] = useSearchParams();

  const sort = searchParams.get("sort") || "asc";

  const sortedItems =
    sort === "asc" ? items : [...items].reverse();

  return (
    <div>
      <h2>Catalog</h2>

      <button onClick={() => setSearchParams({ sort: "asc" })}>
        Sort Asc
      </button>

      <button onClick={() => setSearchParams({ sort: "desc" })}>
        Sort Desc
      </button>

      <ul>
        {sortedItems.map((id) => (
          <li key={id}>
            <Link to={`/catalog/${id}`}>
              View Item {id}
            </Link>
          </li>
        ))}
      </ul>
    </div>
  );
}

export default Catalog;
```

---

## 8Ô∏è‚É£ What Just Happened (Very Important)

Clicking button:

* URL changes
* Component **does NOT unmount**
* Component **re-renders**
* State comes from URL

üìå This is **URL-driven state**

---

## 9Ô∏è‚É£ Why URL State Is Powerful

Benefits:

* Shareable links
* Browser back/forward works
* Refresh-safe
* SEO-friendly
* No extra React state needed

Bad alternative:

```js
useState("asc"); ‚ùå
```

Good:

```js
useSearchParams(); ‚úÖ
```

---

## üîÅ Query Params + useEffect (Preview)

Later you‚Äôll do:

```js
useEffect(() => {
  fetchData(sort);
}, [sort]);
```

URL ‚Üí data ‚Üí UI
This is **production-grade pattern**

---

## 10Ô∏è‚É£ Common Mistakes

‚ùå Using query params for IDs
‚ùå Forgetting `.get()` returns string or null
‚ùå Overwriting existing params accidentally
‚ùå Mixing query state with local state unnecessarily

---

## üß† One-Line Rule (Remember This)

> **If the user should be able to bookmark or share it ‚Äî put it in the URL.**

