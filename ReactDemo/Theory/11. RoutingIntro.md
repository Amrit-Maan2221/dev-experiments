# SPA Routing — From First Principles

## 1️⃣ What “Routing” Means (In General)

Routing =

> “When the URL changes, show a different view”

That’s it.
Everything else is implementation detail.

---

## 2️⃣ How Routing Works in Traditional Websites (MPA)

Let’s anchor your brain first.

### Example:

```
/catalog
/inventory
/login
```

### What happens when you click `/catalog`?

1. Browser sends HTTP request to server
2. Server returns **a new HTML page**
3. Browser **destroys the old page**
4. Browser loads the new page
5. JS, CSS, everything reloads

This is called:

> **Server-side routing**

---

### Problems with This Model

* Full page reload
* Slower navigation
* Harder to build app-like UX
* State is lost between pages

---

## 3️⃣ What Changed With SPAs

A **Single Page Application** means:

> The browser loads **one HTML page once**

After that:

* No new HTML pages are fetched
* Only **data** changes
* Only **components** change

---

### Key Reality

In a SPA:

* The **server does NOT control pages**
* The **client controls views**

This is the most important shift.

---

## 4️⃣ The Big Question

If there is:

* Only one HTML file
* No page reloads

Then:

> ❓ How do we show different “pages” like `/catalog` and `/inventory`?

---

## 5️⃣ The Core Idea of SPA Routing

**SPA routing is fake routing.**

Not fake in a bad way — fake in a **smart** way.

---

### What Actually Happens

When URL changes from:

```
/catalog → /inventory
```

React does **NOT**:

* Ask server for a new page
* Reload the browser

React does:

1. Notice the URL changed
2. Decide which component matches that URL
3. Replace the rendered component

---

### Reality Check

There are:

* ❌ No real pages
* ❌ No page navigation

There are only:

* ✅ Components being mounted & unmounted

---

## 6️⃣ Very Important Mental Model

Think like this:

```
URL = state
```

Just like:

* State change → UI change

In SPA:

* URL change → UI change

---

## 7️⃣ Example Without React Router (Conceptual)

Imagine this pseudo-code:

```js
if (url === "/catalog") {
  render(CatalogPage);
}

if (url === "/inventory") {
  render(InventoryPage);
}
```

That’s all routing is.

React Router just:

* Listens to URL changes
* Does this matching efficiently
* Integrates with React lifecycle

---

## 8️⃣ Browser History (Why Back Button Works)

Another big question:

> If there’s no page reload, how does back/forward work?

Answer:

* Browser has a **History API**
* URLs can change **without reload**
* React Router listens to that

So:

* Back button → URL changes → component changes

---

## 9️⃣ What SPA Routing is NOT

Let’s kill misconceptions early.

SPA routing is NOT:
❌ Server navigation
❌ Fetching HTML
❌ Reloading JS
❌ Multiple entry points

---

## 10️⃣ Why This Matters for Your Microservices

This is where it connects to your project.

Your backend:

* Serves **data**
* Does NOT care about pages

Your frontend:

* Decides:

  * `/catalog` → show catalog UI
  * `/inventory` → show inventory UI
* Calls the correct microservice **after routing**

Routing comes **before** data fetching.

---

## 11️⃣ One-Line Summary (Memorize This)

> **SPA routing is conditional rendering based on the URL, not real navigation.**

---

## Setup up in our Project

# Installing React Router 

We will **only** do installation + understanding.
No routes yet.

---

## What Package Do We Need?

For web apps, the correct package is:

```
react-router-dom
```

Not:

* `react-router` (core, not enough)
* Anything else

---

## 2️⃣ Check Your Project Type

You are using:

* Modern React
* Vite (default setup)

So we’ll use **npm** (same logic for yarn / pnpm).

---

## Install Command

Open your project root (where `package.json` is) and run:

```bash
npm install react-router-dom
```

That’s it.

---

## What This Installs (Important)

This gives you:

* `BrowserRouter`
* `Routes`
* `Route`
* `Link`
* `NavLink`
* `useParams`
* `useSearchParams`
* `useNavigate`

Without this package:

* React has **no routing capability**

---

## Verify Installation

Open `package.json` and confirm:

```json
"dependencies": {
  "react": "...",
  "react-dom": "...",
  "react-router-dom": "^6.x.x"
}
```

Version 6+ is expected.

---

## Why Installation Comes Before Code

React Router:

* Is NOT part of React core
* Is an external library
* Must be explicitly added

React philosophy:

> Core is small, ecosystem adds power


