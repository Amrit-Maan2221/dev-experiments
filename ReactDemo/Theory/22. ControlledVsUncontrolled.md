# Controlled vs Uncontrolled Components (React)

## First: What Problem Are We Solving?

Forms need:

* Input value
* Validation
* Submission
* Reset

The question is:

> **Who controls the input value?**

* React state?
* Or the DOM itself?

That‚Äôs the entire difference.

---

# 1Ô∏è‚É£ Controlled Components

### Definition (Very Important)

> A **controlled component** is an input whose value is **controlled by React state**.

React is the **single source of truth**.

---

## Basic Example

```jsx
import { useState } from "react";

function ControlledInput() {
  const [name, setName] = useState("");

  return (
    <input
      value={name}
      onChange={(e) => setName(e.target.value)}
    />
  );
}
```

### What‚Äôs happening?

* Input value = `name`
* User types ‚Üí `onChange`
* State updates ‚Üí re-render
* Input updates

üîÅ **Two-way binding**

---

## Key Characteristics

‚úÖ React controls value
‚úÖ Easy validation
‚úÖ Easy reset
‚ùå More re-renders

---

## Controlled Example (Realistic Form)

```jsx
function CreateItemForm() {
  const [price, setPrice] = useState("");

  return (
    <input
      type="number"
      value={price}
      onChange={(e) => setPrice(e.target.value)}
    />
  );
}
```

Perfect for:

* Catalog create form
* Inventory grant form

---

# 2Ô∏è‚É£ Uncontrolled Components

### Definition

> An **uncontrolled component** lets the **DOM control the input value**.

React reads the value **only when needed**.

---

## Basic Example

```jsx
import { useRef } from "react";

function UncontrolledInput() {
  const inputRef = useRef();

  function handleSubmit() {
    console.log(inputRef.current.value);
  }

  return (
    <>
      <input ref={inputRef} />
      <button onClick={handleSubmit}>Submit</button>
    </>
  );
}
```

---

## What‚Äôs Happening?

* Browser manages input state
* React does not re-render on typing
* Value accessed via `ref`

---

## Key Characteristics

‚úÖ Fewer re-renders
‚úÖ Simple for small forms
‚ùå Harder validation
‚ùå Less predictable

---

# 3Ô∏è‚É£ Controlled vs Uncontrolled (Side-by-Side)

| Feature            | Controlled      | Uncontrolled     |
| ------------------ | --------------- | ---------------- |
| Who controls value | React state     | DOM              |
| Source of truth    | React           | DOM              |
| Validation         | Easy            | Hard             |
| Reset              | Easy            | Manual           |
| Performance        | More re-renders | Fewer re-renders |
| Recommended        | ‚úÖ Yes           | ‚ö†Ô∏è Limited cases |

---

# 4Ô∏è‚É£ Hybrid Approach (Real World)

Sometimes:

* Mostly controlled
* With refs for edge cases

Example:

```jsx
<input ref={inputRef} defaultValue="test" />
```

This is **rare**, but exists.

---

# 5Ô∏è‚É£ When to Use What (Very Important)

### Use Controlled When:

* Forms
* Validation
* Dynamic UI
* API submissions
* Multi-field forms

üëâ **90% of React apps**

---

### Use Uncontrolled When:

* File uploads
* Third-party libraries
* Very simple forms
* Performance edge cases

---

# 6Ô∏è‚É£ Common Mistakes (Avoid These)

‚ùå Using uncontrolled when validation needed
‚ùå Mixing `value` + `defaultValue` incorrectly
‚ùå Forgetting `onChange` in controlled input
‚ùå Over-optimizing performance early

---

# 7Ô∏è‚É£ Interview One-Liner (Memorize)

> **Controlled components are driven by React state, while uncontrolled components are driven by the DOM.**

---

# 8Ô∏è‚É£ Apply This to Your Project

### Catalog Create Form ‚Üí Controlled

### Inventory Grant Form ‚Üí Controlled

### File upload ‚Üí Uncontrolled

This is **exactly how professionals decide**.

---

## ‚è≠Ô∏è What‚Äôs Next?

Natural continuation:

* **Form handling patterns**
* Validation basics
* Handling multiple inputs cleanly
